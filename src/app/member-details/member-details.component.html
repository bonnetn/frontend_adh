<div *ngIf="(member$ | async) as member" class="row">

  <div class="nine columns">
    <h2>{{ member.firstName }} {{ member.lastName }}</h2>
    <ul>
      <div class="row">
        <div class="eight columns">
          <li><strong>Identifiant DISI:</strong> {{ member.username }}</li>
          <li><strong>Envoyer un mail:</strong> <a href="mailto:{{ member.email }}">
              &#9993;</a></li>
          <li><strong>Date de départ:</strong> {{ member.departureDate }}</li>
        </div>

        <div class="four columns">
          <a [routerLink]="['../../edit/', member.username ]">
            <button class="u-full-width">Editer le profil</button>
          </a>
          <button class="u-full-width">Paiements</button>
          <button class="u-full-width">Cotiser</button>
        </div>
      </div>
      <br/>
      <div class="row">
        <div class="eight columns">
          <li>
            <strong>Numéro de chambre: </strong>{{ member.roomNumber }}
          </li>
          <li>
            <strong>Occupée par: </strong>
          </li>
        </div>

        <div class="four columns">
          <a [routerLink]="['../../../room', member.roomNumber ]">
            <button class="u-full-width">Consulter</button>
          </a>
             <button class="u-full-width">Déménager</button>
        </div>
      </div>
    </ul>
    <h3>Appareils</h3>
    <div style="overflow-x:auto;" class="u-max-full-width">
      <table class="u-max-full-width">
        <tr>
          <th>Adresse MAC</th>
          <th>Fabricant</th>
          <th>Type d'appareil</th>
          <th>Adresse IPv4</th>
          <th>Adresse IPv6</th>
          <th>MAB</th>
          <th></th>
          <th></th>
        </tr>
        <tr *ngFor="let device of all_devices$ | async">
          <td>{{ device.mac }}</td>
          <td><app-mac-vendor mac="{{device.mac}}"></app-mac-vendor></td>
          <td>{{ device.connectionType }}</td>
          <td>{{ device.ipAddress }}</td>
          <td>{{ device.ipv6Address }}</td>
          <td>MAB</td>
          <td><a [routerLink]="['../../../device/edit', device.mac]"><button>Editer</button></a></td>
          <td><a style="cursor: pointer" (click)="onDelete(device.mac)"><button>Supprimer</button></a></td>
        </tr>
      </table>
    </div>
    <div class="row">
      <form [formGroup]="deviceForm" (ngSubmit)="onSubmitDevice()" novalidate>
        <div class="four columns">
          <input class="u-full-width" type="text" formControlName="mac">
        </div>
        <div class="three columns">
          <select class="u-full-width" type="text" formControlName="connectionType">
            <option value="wired">Filaire</option>
            <option value="wireless">Wi-Fi</option>
          </select>
        </div>
        <div class="five columns">
          <button type="submit"
                  [disabled]="disabled || deviceForm.status == 'INVALID'"
                  class="u-full-width button-primary">Ajouter l'appareil</button>
        </div>
      </form>
    </div>
    <h3>Journal</h3>
    <p>Afficher les logs DHCP</p>

    <h3>Commentaire</h3>
    <form [formGroup]="commentForm" (ngSubmit)="onSubmitComment()" novalidate>
      <textarea class="u-full-width" formControlName="comment"></textarea>
      <div class="row">
        <button type="submit" class="u-full-width button-primary"
                              [disabled]="commentSubmitDisabled">Envoyer</button>
      </div>
    </form>
  </div>
  <div class="three columns">
    <h3>Sidebar</h3>
    <ul>
      <li>{{ member.comment }}</li>
      <img src="http://trombi.tem-tsp.eu/photo.php?uid={{ member.username
      }}&h=320&w=240"/>
      <br />
      <li>
        <button class="u-full-width button-primary bigbutton">
          Association des <br/>périphériques</button>
      </li>
      <li>Dernières modifications:</li>
      <!-->
      <li>Modification récente</li>
      -->
    </ul>
  </div>

</div>
